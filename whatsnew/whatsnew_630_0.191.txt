0.191 2017/10/25 [#630 - Vas Crabb]
-----------------------------------


MAMETesters Bugs Fixed
----------------------
- 00759: [Misc.] (mystwarr.cpp) mtlchamp and clones: Problem with NVRAM in the RAM/ROM check after changing settings in service mode (MetalliC)
- 04910: [Crash/Freeze] (pce.cpp) pce, tg16 [dslaylh, dslayedj]: No inputs and Black Screen (Angelo Salese)
- 04950: [Crash/Freeze] (pce.cpp) pce [draculax]: Game freezes at start of Stage 5 (Angelo Salese)
- 05192: [Graphics] (pce.cpp) tg16 [airzonk]: Graphics freeze when traversing too far up the screen (Angelo Salese)
- 05994: [Crash/Freeze] (pce.cpp) pce [imagef2]: Freezes before displaying title screen. (Angelo Salese)
- 06154: [DIP/Input] Games with a rotary positional joystick: Some positions are skipped (Angelo Salese)
- 06387: [Graphics] (pce.cpp) pce [finalsol, finalsols]: Messed up/disappearing tiles (Angelo Salese)
- 06487: [Documentation] tonton, ppj, big10: Documentation found on Success website (D Go Go Fan)
- 06622: [Graphics] (pce.cpp) pce [beball]: Garbage appears when collecting the dual arrow item (Angelo Salese)
- 06637: [Interface] Internal UI does not save entire configuration (AJR)
- 06656: [Interface] Configuring Machine level "Video Option" causes CRASH (Nathan Woods)
- 06689: [Crash/Freeze] (amstrad.cpp) cpc6128: Loading a disk freezes the emulator (Patrick Mackinlay)
- 06690: [Color/Palette] (bottom9.cpp) bottom9n: Sprites have incorrect colors. (Angelo Salese)
- 06691: [Graphics] tokio and clones: Tokio - graphic glitches on the right side of the screen (Lord Nightmare)
- 06696: [Graphics] (pce.cpp) tg16 [turrican]: Not showing Title Screen (Angelo Salese)
- 06697: [Crash/Freeze] (stv.cpp) grdforce: Hangs after insert coin (Angelo Salese)
- 06701: [Gameplay] (pce.cpp) pce [shingen, shingen1]: Extended/Unexpected periods of Black Screen (Angelo Salese)
- 06708: [Media Support] (tandy2k.cpp) tandy2k: Does not boot from disk (regression) (Carl)
- 06711: [Interface] UI: If you exit with the Exit option, the last used game is not saved (Vas Crabb)
- 06713: [Misc.] (dbz.cpp) dbz, dbza, dbz2: Correct names for these three games (Fortuna)
- 06719: [Core] (coco12.cpp) coco12, coco3, other 6809?: SBCB instruction returns the wrong result (hap)
- 06720: [Interface] Prescale option allows invalid values. (Tafoid)
- 06723: [DIP/Input] (einstein.cpp) einstein [hustler, starq]: Keyboard is not responding! (Dirk Best)
- 06724: [Gameplay] (vegas.cpp) gauntleg, gauntdl: Various Effects Cause More Damage than they should (64-bit Only) (Ted Green)
- 06727: [Documentation] (ibmpc.cpp) Parent/Clone Issues for IBM5170 softlist (Justin Kerk)
- 06728: [Timing] (einstein.cpp) einstein: In Xtal Basic the PRINT TI$ always gives "000000" ? (Dirk Best)


New working machines
--------------------
Batman (Tiger handheld) [hap, Sean Riddle]
Judge Dredd (Tiger handheld) [hap, Sean Riddle]
Mephisto Mondial II [yoyo_chessboard, Sandro Ronco]
Swamp Thing (Tiger handheld) [hap, Sean Riddle]

New working clones
------------------
Alien3: The Gun (Japan) [ShouTime]
Athena (bootleg) [Porchy, The Dumping Union]
Biomechanical Toy (Ver. 1.0.1878) [Jorge Silva]
Cabal (UK, Joystick) [hammy, The Dumping Union]
Cobra Command (M.A.C.H. 3 hardware, set 2) [f205v]
Cyberball (rev 1) [Brian Troha, The Dumping Union]
Fidelity Elite Avant Garde (model 6117-7, set 2) [CB-Emu]
G-LOC R360 (Japan) [ordyne, The Dumping Union]
Kaypro 16 [rfka01]
Knights of the Round (bootleg, World 911127) [hammy, The Dumping Union]
Rod-Land (World, set 2) [frsj8112]
Super Hang-On (Hang-On conversion, Beta bootleg) [Cmonkey]
Target Hits (ver 1.1, Checksum 86E1) [Peter Wilhelmsen, Morten Shearman Kirkegaard, Clawgrip, Brian Troha, David Haywood]
Tecmo World Cup '94 (set 3) [caius, Angelo Salese, The Dumping Union]
TH Strikes Back (Non North America, Version 1.0, Checksum 020EB356) [caius, The Dumping Union]
unknown 'Space Invaders' gambling game (set 2) [Roberto Fresca, Arzeno Fabrice]
World Series: The Season (rev 0) [f205v, The Dumping Union]

Machines promoted to working
----------------------------
Big Casino [Ivan Vangelista]
Votrax Personal Speech System [Robbbert]
Votrax Type 'N Talk [Robbbert]

Clones promoted to working
--------------------------
Terco 4426 CNC Programming station [Edstrom]
Torch CF240 [Nigel Barnes]

New machines marked as NOT_WORKING
----------------------------------
Baby Boom Challenge [f205v]
Casino Strip I (Poker version, for Pioneer LD, set 1) [Dragon's Lair Project]
Casino Strip II (Poker version, for Sony LD) [Dragon's Lair Project]
Casino Strip III (Poker version, for Sony LD) [Dragon's Lair Project]
Casino Strip IX (Poker version, for Sony LD) [Dragon's Lair Project]
Casino Strip Private Eyes / All Start (Poker version, for Sony LD) [Dragon's Lair Project]
Casino Strip V (Poker version, for Pioneer LD) [Dragon's Lair Project]
Casino Strip V (Shooting Game version, for Pioneer LD) [Dragon's Lair Project]
Casino Strip VI (Poker version, for Sony LD) [ANY, Smitdogg, The Dumping Union]
Casino Strip VI (Shooting Game version, for Pioneer LD) [Dragon's Lair Project]
Casino Strip VIII (Poker version, for Pioneer LD) [Dragon's Lair Project]
Casino Strip VIII (Shooting Game version, for Pioneer LD) [Dragon's Lair Project]
Casino Strip Vivid 1 (Poker version, for Sony LD) [Dragon's Lair Project]
Casino Strip X (Poker version, for Sony LD) [ANY, Smitdogg, The Dumping Union]
Casino Strip XI (Poker version, for Sony LD, set 1) [Dragon's Lair Project]
Casino Strip XI (Shooting Game version, for Pioneer LD) [Dragon's Lair Project]
Casino Strip XII (Poker version, for Sony LD) [ANY, Smitdogg, The Dumping Union]
Dobou-Chan (ver. JAA) [R. Belmont, Rod_Wod]
E-Touch Mahjong Series #2: Joshiryou de NE! [ShouTime, Team Japump, The Dumping Union]
E-Touch Mahjong Series #6: Scandal Blue - Midara na Daishou [ShouTime, Team Japump, The Dumping Union]
E-Touch Mahjong Series #7: Trap Zone - Yokubou no Kaisoku Densha [ShouTime, Team Japump, The Dumping Union]
Elektronika MS 6102.02 [shattered]
Gokidetor [Surgeville, Sean Sutton, Smitdogg, The Dumping Union]
Mikrocomputer fuer Ausbildung [rfka01, Robbbert]
Note Chance [Roberto Fresca, Ryan Holtz, Smitdogg, The Dumping Union]
Ocha-Ken Hot Medal [Darksoft]
Ton Puu Mahjong [ShouTime, The Dumping Union]

New clones marked as NOT_WORKING
--------------------------------
301/Bullseye (Traditional Scoring) [barakandl]
A.G. Soccer Ball (R07u) [PinMAME]
Casino Strip XI (Poker version, for Sony LD, set 2) [Dragon's Lair Project]
Cheetah (Blue cabinet version - Stern Pinball) [Cooke/LondonPinball]
Eight Ball (rev. 17) [Quench]
Epson CM6000 [Colin McDougall]
Flash Point (Japan, bootleg set 2) [Arzeno Fabrice, David Haywood]
Horizon (North Star Computers, 2MHz) [AJR]
Knights of Valour 3 (V100, China) [XingXing]
Knights of Valour 3 (V104, China) [XingXing]
Mikrocomputer fuer Ausbildung MAT85 [rfka01, Robbbert]
Omni 4 Logic Analyzer [rfka01]
Poker Ladies (Censored bootleg, set 2) [hammy, The Dumping Union]
SD Gundam Sangokushi Rainbow Tairiku Senki (Korea) [Rod_Wod, The Dumping Union]
Time Warp (L-3) [PinMAME]
Trident (Later version - Stern Pinball) [Quench]
Virtua Athletics / Virtua Athlete (prototype) [antron, MetalliC, rtw]

New working software list additions
-----------------------------------
apple2_cass:
  Alignment Test Tone / Renumber, Alignment Test Tone / Sampler, Apple Bowl, Applesoft IIa,
  Applesoft ][ Floating Point BASIC / Floating Point BASIC Demo, Apple Trek, Apple-2 Trek, Apple-Vision / Biorhythms,
  Basic Finance I/ Penny Arcade, Brian's Theme / Phone List, Brick out / Color Demonstration Programs,
  Breakout / Color Graphics, Breakout / Color Demos, Checkbook, Color Sketch / Supermath, Datamover / Telepong,
  High Resolution Graphics, Hangman / Color Math, Hopalong Cassidy / Lemonade Stand, Leases / Loans, Savings / Finance [Dagarman]
bbc_flop_torch: Hard Disc Utilities v4.1, Torch System Disc v1.7 [Nigel Barnes]
fmtowns_cd:
  Ginga Eiyuu Densetsu III SP, Gulf War Soukouden, New 3D Golf Simulation: Harukanaru Augusta, TownsPAINT V1.1L20,
  Video Koubou V1.3L10 [r09]
fmtowns_flop: Sweet Angel [r09]
gamate: Kiki Inland [Morten Shearman Kirkegaard, Peter Wilhelmsen]
ibm5150:
  The Adventures of Captain Comic, Back to the Future Part II, Dragons of Flame, Gryzor, Loom (French), Kings of the Beach (3.5"),
  Leisure Suit Larry 3 (French), Le Manoir de Mortevielle (3.5"), Operation Wolf (3.5"), Out Run, Super Ski, Zombi [breiztiger]
  Drakkhen, Kaypro 16 Autoload, Kaypro 16 Master Disks, Leisure Suit Larry 3, Loom (German), Manhunter - New York,
  Manhunter 2 - San Francisco, Police Quest II - The Vengeance, Silpheed, Space Quest II - Vohaul's Revenge [Justin Kerk]
  MS-DOS (Version 3.30B) (V1.2) (Schneider) (German) [rfka01]
ibm5170:
  Amazon - Guardians of Eden, Arcade Pool, Zool 2 [ArcadeShadow]
  Crash Course [breiztiger]
  Sneakers Computer Press Kit [Justin Kerk]
lynx: MegaPak 1 [anonymous]
msx1_cart: Roc'n Rope [anonymous]
nimbus:
  BBC BASIC V1.00a, IBM Mode Software For Nimbus PC V2.61, IBM Mode Software for Nimbus PC Rel.3,
  Microsoft Windows 2.03 for Nimbus PC System, Microsoft Windows 3 Standalone PC 186, Microsoft Windows ISV Toolkit Release 1.02,
  Microsoft Windows Release 1.02 Stand Alone, Microsoft Windows Release 1.03 Stand Alone, 
  Microsoft Windows V2.1 Presentation Manager for Nimbus PC186, Nimbus Winchester Format Tools,
  Parallel Printer Driver Parallel Board For I/O Board Version V1.0G, RM BASIC V1.0F, RM LOGO V1.0D, RM Nimbus General Utility Disk,
  RM Nimbus PC Upgrade Disk DOS 3.1 Rel 3.10.A, RM Nimbus Sketchpad Driver V1.0B, Release Disk SetPC V2.90 IBM Mode, Steed Ver 1.4A,
  WordStar Rel. 3.30, XferCPM V1.0A [Nigel Barnes]
pv2000: Exciting Jockey, Real Number Basic [SSJ, Team Europe, Dustin Hubbard]
smondial2: Mephisto College Module [yoyo_chessboard]

Software list items promoted to working
---------------------------------------
bbc_flop_torch: 
  Adventure B01 - 550 points, Torch BBC BASIC (Z80) v2.30, Comanex, dBASE-II, Hard Disc Utilities v4.4, Kermit-80 v4.05,
  Perfect Software Suite, Standard Utilities v2.0, Turbo Pascal v3.0A, UniComm, WordStar [Nigel Barnes]

New NOT_WORKING software list additions
---------------------------------------
apple2_cass: Apple Stock Quote Reporter, Tape Measure / Alignment Test Tone [Dagarman]
bbc_flop_torch: Basic Pack v2.0, Prog Dev Pack v2.0, Text Pack v2.0, Unix Upgrade Pack release 1.0 to 2.0 [Nigel Barnes]
hx20_rom: SkiWriter [Nigel Barnes]
rx78: Challenge Golf [SSJ, Team Europe, Dustin Hubbard]


Translations added or modified
------------------------------
Chinese (Simplified) [YuiFAN]
Chinese (Traditional) [YuiFAN]
German [Raf Tacker]
Greek [BraiNKilleRGR]
Japanese [Katsuhiko Kagami]
Portuguese [Pedro Simoes]
Russian [Nikita Zimin, MetalliC]


Source changes:
---------------
- coco3: Made banked cartridges actually work [AJR].
- z8: Fixed disassembly of LDE Irr, r [AJR].
- am9513: Implemented time-of-day mode [AJR].
- Actually make sure OSD options are included when saving through UI [AJR].
- Draw a nominal distinction between PC060HA and TC0140SYT [AJR].
- Explicitly allow floating point values for state registration [AJR].
- ccs2810: Major refinements [AJR]:
  * Implemented power-on jump in a hardware-accurate manner, including full configuration options.
  * Hooked up INS8250 device for RS-232 serial communication (requires ROM wait states simulation for baud rate to be recognized).
  * Made serial port address configurable as well (although monitor expects it to be at the default setting).
- S-100 bus refinements [AJR]:
  * Made slots subdevices, eliminating the need to hardcode the bus tag.
  * Clock the bus and its slots.
  * Use correct XTAL for nshrz and added 2MHz variant.
- legionna.cpp: Fixed Denjin Makai background pen colors [Angelo Salese].
- rx78.cpp: Added border area [Angelo Salese].
- ygv608.cpp updates [Angelo Salese]:
  * Fixed page select boundaries for tilemap drawing (fixes Namco Classics Vol. 2 garbage GFX in attract mode).
  * Reset pattern name table states on mode changes (fixes Mappy Arrange corrupt tiles).
  * Enabled sprite wraparound when both sx and sy pass clipping boundaries (fixes disappearing char on NCV2 game select screen).
  * Fixed CRTC vblank period (fixes NCV2: Dig Dug Original regression) [Angelo Salese]
- huc6270: Invert h/vsync logic for interrupts - fixes several PC Engine hangs [Angelo Salese].
- saturn.cpp updates [Angelo Salese]:
  * Rewrote SMPC as a device, merging ST-V and Saturn implementations.
  * Moved SCU-related functions insto a device.
- smpc: Simulate SETTIME bit behaviour if invalid NVRAM data is found for Sega Saturn. All Sega Saturn ROM sets now calls the BIOS setup if NVRAM is uninitialized, setting up proper defaults [Angelo Salese].
- stv.cpp: Patch Sport Fishing 2 BIOS to actually return a country code, and added bare bones MPEG CD commands. Game now loops into attract mode with mostly missing graphics (MPEG video logic not yet added) [Angelo Salese].
- stvvdp2.cpp: Added ROZ mode 3. Fixes split screen in Sasissu, backgrounds in 'Elandore', and Guy stage in 'Final Fight Revenge' [Angelo Salese].
- jalmah.cpp: Improved fake palette DMA behaviour - avoids corrupt colors for girls [Angelo Salese].
- stvvdp1.cpp: CEF bit gets reset when the framebuffers get swapped (fixes Twinkle Star Sprites Arcade Mode hang) [Angelo Salese].
- dec0.cpp: Updated inputs in all games in the driver [Angelo Salese]:
  * Added input labels for most games in the driver, and removed unused buttons.
  * Updated positional rotary for Heavy Barrel/Midnight Resistance to use remap table.
  * Made Boulder Dash use 4-way stick as per manual.
- dec0.cpp: Hooked up priority video port to Midnight Resistance bootlegs [Angelo Salese].
- taito_b.cpp: Fixed pixel layer offset and enable for Hit the Ice [Angelo Salese].
- taito_z.cpp: Saner interleave CPU timings for Double Axle, attempted to fix road layer getting stuck on continue [Angelo Salese].
- wheelfir.cpp: Converted to RAMDAC device [Angelo Salese].
- Made some small fixes to general info panel on the system selection menu [BraiNKilleRGR].
- Added lua translation to makefile and regenerated translations [Carl].
- plugins/cheat: Added input sequence cheats [Carl].
- abc800 updates [Curt Coder]:
  * Corrected Turbo Kontroller name to UNI DISK and identified CPU type.
  * Added skeleton for Databoard 4112-23 floppy disk controller.
  * Fixed Luxor 55-10828 "slow" floppy controller board logic.
- Updated androidp year to 1987 based on in-game date showed after end credits [David Haywood].
- Documented that the 'oldsplus' set identifies as "Oriental Legend 2" when the protection device supplies Korea as the region [David Haywood].
- Gamate overhaul, fixes many games [David Haywood]:
  * Sound is 100% AY8910 compatible according to kevtris and Peter Wilhelmsen - use the AY8910 core.
  * Rewrote the video implementation from scratch using kevtris' document and Peter Wilhelmsen's notes this fixes many games.
  * Added some mirroring to memory map.
  * Converted cartridges to slot devices that handle protection themselves.
  * Rewrote protection emulation from scratch based on notes from kevtris and Peter Wilhelmsen.
- Merged Hitachi SuperH CPU cores and implemented a preliminary SH3/SH4 recompiler [David Haywood]:
  * Recompiler is currently enabled for Cave CV-1000 but disabled for Sega NAOMI.
  * Recompiler can more than double the benchmark speed of CV-1000 games.
- supbtime.cpp: Cleaned up and merged with tumblep. Removed duplicate code, used screen raw parameters and XTAL values, added DIP switch locations to all games [Dirk Best].
- z80sio/z80scc: Return CPU-specific default vector when no interrupt found to acknowledge [Edstrom].
- t4426 cart: Added MC14411 BRG, 6850 ACIA as a second RS232 port and fixed banking; promoted to working [Edstrom].
- proteus3: Added MC14411 bit rate generator device and replaced the timer based clocks for the ACIAs [Edstrom].
- imgtool: Added support for HP85 tape [F. Ulivi].
- mc146818: Fixed main interrupt flag [Jean-Francois DEL NERO].
- Fixed crash loading 80-track .mfm dumps of 40-track floppy disks on 40-track drives [Justin Kerk].
- Hacked around MT06691 by suppressing partial updates in Tokio video - timing is likely wrong. [Lord Nightmare].
- mc68901: Fixed TCDCR register - bits 6-4 are used for timer C bits 2-0 are used for timer D [Nicolas PLANEL].
- abc310: Added 80286 2nd processor [Nigel Barnes].
- tube_z80: Check NMI state when paging in ROM [Nigel Barnes].
- acorn_dsk: Improved identifying SSD/DSD by comparing image size with sector counts. Also fixed DDCPM format to handle correct image of Double Density CP/M [Nigel Barnes].
- bbc: Added Torch Z80 Communicator as Tube slot device [Nigel Barnes].
- acorn_dsk: Removed CPN format, now handled with SSD/DSD [Nigel Barnes].
- hx20: Added optional ROM slot and software list [Nigel Barnes].
- z80scc: Fixed interrupt mask generation [Patrick Mackinlay].
- Added new bt459 device (Brooktree RAMDAC used in InterPro graphics boards) [Patrick Mackinlay].
- ms6102: Decrypted chargen [Robbbert].
- ts803: Fixed and used z80sti; cleanup and notes [Robbbert].
- mc8030: Added random ROMs, to be sorted [Robbbert].
- p8000: Added WDC ROMs [Robbbert].
- ax80: Added roms, notes, and flesh [Robbbert].
- Note Chance: Added skeleton driver with front panel layout, sound, and extensive notes [Roberto Fresca].
- vme_hcpu30: Added Besta HCPU30 VME board skeleton device [shattered].
- Generate tiled layouts for systems with three or more screens (fixes crash with four or more emulated screens) [Vas Crabb].
- Eliminated vestigial palette that was breaking generic terminal when it isn't first screen [Vas Crabb].
- Improved PORT_CHAR (natural keyboard/paste/key post mapping) for US Apple IIe/IIc (thanks to Golden Child for report) [Vas Crabb].
- Exposed condition for DIP switches, configuration entries, and adjusters in -listxml output [Vas Crabb].
- dynax.cpp: Fixed credits lost after exiting the game in tenkai [Wei Mingzhi].
- psx.xml: Synchronized with redump.org, adding 76 new dumps and replacing two bad dumps [aeternal606].
- gaelco.cpp: Corrected various clock speeds and added PCB layout for Biomechanical Toy [Brian Troha].
- naomi.cpp: Decapped and identified Atomiswave 'ROMEO' ASIC [brizzo].
- segasp.cpp: Dumped Network firmware ver 1.25 [Darksoft].
- segas16b.cpp: Made some corrections to Aurail documentation [ekorz].
- gauntlet.cpp: Reinstated correct size for 'gfx1' ROM, which was chopped off a long time ago [f205v].
- Added PAL dumps for supbtime [Luiskiko/jammarcade.net].
- Dumped touchgo SRAM from two more boards, and used that dump to verify/correct the SRAM image [Peter Wilhelmsen, Morten Shearman Kirkegaard, David Haywood].
- Fixed zexall build target [RandomArts].
- EuroPC: Added first and last known BIOS versions [rfka01].
- taitoair.cpp: Dumped ainferno's Controller PCB ROM [ShouTime, The Dumping Union].
- qix.cpp: Added some documentation to the qixb set [ShouTime].
- Corrected years for 'Final Furlong 2', 'Crisis Zone', 'Big 10', 'Waku Waku Doubutsu Land TonTon', 'Pyon Pyon Jump' and 'Sui Sui Pyon Pyon' [sjy96525].
- pv2000.xml: Desoldered and redumped ROMs for rakugaki and excitem2 [SSJ, Team Europe, Dustin Hubbard].
- Added newer version of Mephisto Academy (German) as BIOS option [yoyo_chessboard].
- Added support for multiple PORT_CHAR() bindings, and adopted in the CoCo driver [Nathan Woods].
- Created a more flexible date/time structure for use within imgtool intended to replace most usage of time_t [Nathan Woods]