0.125u1 2008/05/15 [#436 - Aaron Giles]
---------------------------------------


MAMETesters Bugs Fixed
----------------------
01713: [DIP/Input] spaceg: All joystick/buttons mapped twice. Button 1 is mapped 3 times! (stephh).
01717: [DIP/Input] arcadecl, sparkz: Service Key mapped twice (stephh).
01738: [Misc.] neruton: Typo in title (Roberto Fresca).
01787: [DIP/Input] columnsu: 1st unknown dip switch indentified (Roberto Fresca).
01790: [DIP/Input] zerowng2: Last "Unused" dipswitch is for territory (Roberto Fresca).
01791: [DIP/Input] asterock: Unable to credit up or play the game. Also, there are discrete sound issues (Fabio Priuli).
01795: [Misc.] tm, tm3k, tm4k, tm5k, tm7k: Day on clock doesn't work (Luigi30).


New games added or promoted from NOT_WORKING status
---------------------------------------------------
beatmania 7th MIX (ver JA-B) [Chizzy]
Card Games? [Roberto Fresca]
Chase Bombers [Phil Bennett]
Pit Boss Superstar [Hugh McLenaghan]
Slots Game? [Roberto Fresca]
World Rally [Manuel Abadia, GAELCO SA]

New clones added
----------------
Demon's World / Horror Story (early edition) [Brian Troha]
Ghox (set 2) [Tormod Tjaberg]
Legendary Wings (bootleg) [Sonikos]
Megatouch III (9255-20-06 RON) [Brian Troha]
The Legend of Kage [Stefan Lindberg]

New games marked as GAME_NOT_WORKING
------------------------------------
beatmania THE FINAL (ver JA-A) [Chizzy]


Source changes:
---------------
- Improved cbombers sprites [Philip Bennett].
- Renamed ports and used AM_READ_PORT macros in arcadecl [stephh].
- Add feature to the cia6526: in READ operation the value can be forced by a external circuit; this feature is necessary for MESS [robiza].
- undrfire.c improvements [Philip Bennett]:
  * Hooked up cbombers steering wheel input.
  * Changed ES5505 clock rate to 30476100/2.
  * Unified cbombers memory maps and tidied up some code.
  * Removed the undrfire speedup hack.
- Marked the sound roms on 'Q*Bert's Qubes' as bad and changed the flag to imperfect sound. The current sound cpu roms are the same as on a normal Q*Bert board, which is incorrect. At least three sound effects are present in the real qq-snd roms but not the 'Q*Bert' qb-snd ones [Lord Nightmare].
- Fixed the ROZ effect in Namco NA1 driver. ROZ tilemap is actually an additional tilemap. Fixes a bug where a "roz enable" test was causing a normal layer to be rendered with ROZ effects in-game. There is no roz enable register - it's always available for mixing with other tilemaps and sprites. This also adds a missing NAMCO logo zoom/spin effect in Emeralda's attract mode [Phil Stroffolino].
- Added memory address parameter to CDP1802 DMA callbacks, and added a macro for the CPU interface [Curt Coder].
- Rewrote the Gaelco video RAM encryption, which finally makes sense. The key observation was that when decrypting the second word, both encrypted and decrypted bits of the first word are used. Many thanks to Javier Valero for the detailed information that made this possible [Nicola Salmoria].
- Fixed coin inputs, added validator input, and added notes on inputs to the tmaster driver [Luigi30].
- Merged memory maps for drivers: tagteam, tail2nos, tankbatt, tankbust, taotaido, targeth, and taxidrvr [Andrew Gardner].
- New driver for old Game-A-Tron gambling games hardware [Roberto Fresca]:
  * Properly decoded graphics.
  * Proper memory map.
  * Added NVRAM support.
  * Proper Inputs through 8255 PPI I/O chip.
  * Both games are working.
  * Added technical & game notes.
- New universal dynamic recompiler system [Aaron Giles]:
  * The central module is drcuml.c, which defines a universal machine language syntax that can be generated by a frontend recompiler and then retargeted via a generic backend interface to any of a number of different architectures. A disassembler for the UML is also included to allow examination of the generated UML code.
  * Currently supported backend architectures include 32-bit x86, 64-bit x86, and a platform-neutral interpreted C backend that can be used as a fallback for platforms without native support. The C backend also performs additional validation to ensure assumptions are met.
  * Along with the new architecture is a new MIPS III/IV recompiler frontend. This frontend has been rewritten from  the old x64-specific recompiler to generate UML opcodes instead. This means that the single recompiler can be used to target multiple backend architectures and should in theory produce identical results across all of them.
  * The old 32-bit and 64-bit MIPS recompilers are now officially retired. The new system provides similar performance (within 5% generally) to the old system and has similar compatibility. The only currently known issues are some problems with the two Gauntlet 3D games.
- Added DS5002FP CPU core [Manuel Abadia].
- Added CDP1852 I/O buffer chip, and used it in Altair/Draco [Curt Coder].
- Found the proper algorithm to decrypt the blue TAB PCB in the funworld driver. Replaced the old decryption tables with the proper decryption scheme. Updated technical notes [Roberto Fresca].
- Added uncompressed AVI recording [Aaron Giles]:
  * Extended aviio to be able to write RGB bitmaps. Unfortunately, the only option is fully uncompressed, which means the resulting AVIs are *HUGE* and may not play correctly in realtime due to high data rate. The intention is that these uncompressed AVIs are post-processed by other utilities to compress the video and produce a realtime playable result.
  * Added new command-line option -aviwrite which works just like -mngwrite, except it produces AVIs and streams sound to them.
  * Updated documentation accordingly. Shift+F12 still produces MNGs for now, though this might change in the future. Modified fileio.c to retain the full pathname to the file so that it can be queried while the file is open.
- Updated TMS5200/5220 documentation and comments. Fixed the chirp table implementation in both the 51xx and 52xx chips [Lord Nightmare].
- Fixed default DIP Switches on thoop to give more than 1 life [David Haywood].
- Bug fixes for NamcoNA Hardware [Phil Stroffolino]:
  * Support for scanline effect (fixes invisible dolphin in Emeralda attract mode).
  * ROZ implementation no longer breaks 'Numan Athletics' pixmap layer.
  * Blitter fixes; xday graphics are now correct.
  * Identified extra communications RAM used by xday (probably to control printer).
- Fixed crash in dynax games due to missing MSM6242 device [Dirk Best].
- Changed Black tiger main Z80 clock to 6MHz and sound Z80 clock to 3.579545MHz as verified on PCB [Corrado Tomaselli].
- Consolidated opbase variables into a structure and rescoped them so they are hidden for general access [Atari Ace].